from ncclient import manager

m = manager.connect(
    host="192.168.1.1",
    port=830,
    username="admin",
    password="admin123",
    hostkey_verify=False
)

loopback_xml = """
<config>
  <interfaces xmlns="urn:ietf:params:xml:ns:yang:ietf-interfaces">
    <interface>
      <name>Loopback100</name>
      <type xmlns:ianaift="urn:ietf:params:xml:ns:yang:iana-if-type">
        ianaift:softwareLoopback
      </type>
      <enabled>true</enabled>
    </interface>
  </interfaces>
</config>
"""

m.edit_config(target="running", config=loopback_xml)

print("Loopback created successfully")

m.close_session()
